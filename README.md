# Библиотека matrix (s21_matrix)

## Обзор
Библиотека для работы с матрицами на языке C. Реализует основные операции линейной алгебры: создание, удаление, арифметические операции, транспонирование, вычисление определителя, матрицы алгебраических дополнений и обратной матрицы.

## Структура матрицы
```c
typedef struct matrix_struct {
    double** matrix;  // Указатель на элементы
    int rows;         // Количество строк
    int columns;      // Количество столбцов
} matrix_t;
```

## Коды ошибок
```c
typedef enum {
    OK = 0,                 // Успешно
    INCORRECT_MATRIX = 1,   // Некорректная матрица
    CALCULATION_ERROR = 2   // Ошибка вычисления
} ErrorCode;
```

## Доступные функции

### Базовые операции
| Функция | Описание |
|---------|----------|
| `s21_create_matrix(rows, columns, result)` | Создание матрицы |
| `s21_remove_matrix(A)` | Удаление матрицы |
| `s21_eq_matrix(A, B)` | Сравнение с точностью 1e-7 |

### Арифметические операции
| Функция | Описание |
|---------|----------|
| `s21_sum_matrix(A, B, result)` | Сложение матриц |
| `s21_sub_matrix(A, B, result)` | Вычитание матриц |
| `s21_mult_number(A, number, result)` | Умножение на число |
| `s21_mult_matrix(A, B, result)` | Умножение матриц |

### Продвинутые операции
| Функция | Описание |
|---------|----------|
| `s21_transpose(A, result)` | Транспонирование |
| `s21_determinant(A, result)` | Определитель |
| `s21_calc_complements(A, result)` | Матрица алгебраических дополнений |
| `s21_inverse_matrix(A, result)` | Обратная матрица |

## Требования к матрицам

| Операция | Требования |
|---------|------------|
| Сложение/вычитание | Одинаковые размеры |
| Умножение | A->columns == B->rows |
| Определитель | Квадратная матрица |
| Алгебраические дополнения | Квадратная матрица |
| Обратная матрица | Квадратная, det ≠ 0 |

## Обработка ошибок

**INCORRECT_MATRIX (1):**
- NULL указатель
- rows ≤ 0 или columns ≤ 0
- matrix == NULL

**CALCULATION_ERROR (2):**
- Неподходящие размеры
- Переполнение (INF, -INF)
- NaN значения
- Нулевой определитель для обратной матрицы
- Неквадратная матрица

## Особые случаи

**Матрица 1×1:**
- Определитель = элемент
- Алгебраическое дополнение = [[1]]
- Обратная матрица = [[1/элемент]]

## Пример использования

```c
#include "s21_matrix.h"

int main() {
    matrix_t A = {0}, result = {0};
    
    // Создание матрицы 2×2
    s21_create_matrix(2, 2, &A);
    A.matrix[0][0] = 1; A.matrix[0][1] = 2;
    A.matrix[1][0] = 3; A.matrix[1][1] = 4;
    
    // Вычисление определителя
    double det;
    s21_determinant(&A, &det);  // det = -2
    
    // Обратная матрица
    s21_inverse_matrix(&A, &result);
    
    // Очистка памяти
    s21_remove_matrix(&A);
    s21_remove_matrix(&result);
    
    return 0;
}
```

## Сборка проекта

```bash
# Собрать статическую библиотеку
make all

# Запустить тесты
make test

# Отчет о покрытии кода
make gcov_report

# Проверка утечек памяти
make valgrind

# Очистка
make clean
```

## Важные замечания

1. **Память**: Всегда инициализируйте структуры нулями: `matrix_t M = {0}`
2. **Очистка**: Всегда вызывайте `s21_remove_matrix()` после использования
3. **Точность**: Сравнение матриц использует EPS = 1e-7
4. **Безопасность**: Библиотека защищает от утечек памяти при ошибках
5. **Производительность**: Матрицы хранятся в непрерывном блоке памяти

---

<div align="center">
<i>Учебный проект</i><br>
</div>